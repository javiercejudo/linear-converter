{"version":3,"sources":["linear-converter.min.js","linear-converter.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length",1,"module","b","kind",2,"isUndefined","value","undefined",3,"unitScale","Decimal","api","normalise","x","scale","scale0","toString","minus","div","lodash.isundefined","unit-scale",4,"times","plus",5,"normaliseFactory","scaleFactory","rescale","oldScale","newScale","scale-normalised",6,7,"linear-converter","rescaleFactory","twoOfAKind","unitPreset","wrapPresetEquivalenceRequisite","presetEquivalenceRequisite","preset","convert","invertPreset","slice","reverse","composePresets","presetA","presetB","map","getCoefficientA","getCoefficientB","wrappedPresetEquivalenceRequisites","equivalentPresets","every","olsen","unit-preset"],"mappings":"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","file":"linear-converter.min.js","sourcesContent":["/**\n * linear-converter - Copyright 2015 Javier Cejudo <javier@javiercejudo.com> (http://www.javiercejudo.com)\n * @version v4.0.2\n * @link https://github.com/javiercejudo/linear-converter#readme\n * @license MIT\n */\nrequire=function n(e,t,r){function i(o,s){if(!t[o]){if(!e[o]){var c=\"function\"==typeof require&&require;if(!s&&c)return c(o,!0);if(u)return u(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var a=t[o]={exports:{}};e[o][0].call(a.exports,function(n){var t=e[o][1][n];return i(t?t:n)},a,a.exports,n,e,t,r)}return t[o].exports}for(var u=\"function\"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(n,e,t){\"use strict\";e.exports=function(n,e){return function(t){return t(n)===t(e)}}},{}],2:[function(n,e,t){function r(n){return void 0===n}e.exports=r},{}],3:[function(n,e,t){\"use strict\";var r=(n(\"lodash.isundefined\"),n(\"unit-scale\"));e.exports=function(n){var e={};return e.normalise=function(e,t){t=t||r;var i=new n(t[0].toString());return new n(e.toString()).minus(i).div(new n(t[1].toString()).minus(i))},e}},{\"lodash.isundefined\":2,\"unit-scale\":7}],4:[function(n,e,t){\"use strict\";var r=(n(\"lodash.isundefined\"),n(\"unit-scale\"));e.exports=function(n){var e={};return e.scale=function(e,t){t=t||r;var i=new n(t[0].toString());return new n(t[1].toString()).minus(i).times(new n(e.toString())).plus(i)},e}},{\"lodash.isundefined\":2,\"unit-scale\":7}],5:[function(n,e,t){\"use strict\";var r=(n(\"lodash.isundefined\"),n(\"normalise\")),i=n(\"scale-normalised\");e.exports=function(n){var e=r(n).normalise,t=i(n).scale,u={};return u.rescale=function(n,r,i){return t(e(n,r),i)},u}},{\"lodash.isundefined\":2,normalise:3,\"scale-normalised\":4}],6:[function(n,e,t){\"use strict\";var r=n(\"unit-scale\");e.exports=[r,r]},{\"unit-scale\":7}],7:[function(n,e,t){\"use strict\";e.exports=[0,1]},{}],\"linear-converter\":[function(n,e,t){\"use strict\";var r=n(\"rescale\"),i=n(\"olsen\"),u=n(\"unit-preset\");e.exports=function(n){function e(n){return function(e){return n(e).toString()}}var t=r(n),o={};o.convert=function(n,e){return t.rescale(n,e[0],e[1])},o.invertPreset=function(n){return n.slice().reverse()},o.composePresets=function(n,e){return[n[0].map(function(n){return t.rescale(n,u[0],u[1])}),n[1].map(function(n){return t.rescale(n,e[0],e[1])})]},o.getCoefficientA=function(e){return new n(e[1][1].toString()).minus(new n(e[1][0].toString())).div(new n(e[0][1].toString()).minus(new n(e[0][0].toString())))},o.getCoefficientB=function(n){return t.rescale(0,n[0],n[1])};var s=([o.getCoefficientA,o.getCoefficientB],[o.getCoefficientA,o.getCoefficientB].map(e));return o.equivalentPresets=function(n,e){return s.every(i(n,e))},o}},{olsen:1,rescale:5,\"unit-preset\":6}]},{},[]);","/**\n * linear-converter - Copyright 2015 Javier Cejudo <javier@javiercejudo.com> (http://www.javiercejudo.com)\n * @version v4.0.2\n * @link https://github.com/javiercejudo/linear-converter#readme\n * @license MIT\n */\nrequire=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*jshint node:true */\n\n'use strict';\n\n/**\n * Returns a two of a kind check\n *\n * @param {*} a\n * @param {*} b\n *\n * @return {Function} [description]\n */\nmodule.exports = function olsen(a, b) {\n  /**\n   * Two of a kind check\n   *\n   * @param {Function} function to compare against\n   *\n   * @return {Boolean}\n   */\n  return function check(kind) {\n    return kind(a) === kind(b);\n  };\n};\n\n},{}],2:[function(require,module,exports){\n/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n\n},{}],3:[function(require,module,exports){\n/*jshint node:true */\n\n'use strict';\n\nvar isUndefined = require('lodash.isundefined');\nvar unitScale = require('unit-scale');\n\nmodule.exports = function factory(Decimal) {\n  var api = {};\n\n  api.normalise = function normalise(x, scale) {\n    scale = scale || unitScale;\n\n    var scale0 = new Decimal(scale[0].toString());\n\n    return new Decimal(x.toString()).minus(scale0)\n      .div(new Decimal(scale[1].toString()).minus(scale0));\n  };\n\n  return api;\n};\n\n},{\"lodash.isundefined\":2,\"unit-scale\":7}],4:[function(require,module,exports){\n/*jshint node:true */\n\n'use strict';\n\nvar isUndefined = require('lodash.isundefined');\nvar unitScale = require('unit-scale');\n\nmodule.exports = function factory(Decimal) {\n  var api = {};\n\n  api.scale = function scaleNormalised(x, scale) {\n    scale = scale || unitScale;\n\n    var scale0 = new Decimal(scale[0].toString());\n\n    return new Decimal(scale[1].toString()).minus(scale0)\n      .times(new Decimal(x.toString())).plus(scale0);\n  };\n\n  return api;\n};\n\n},{\"lodash.isundefined\":2,\"unit-scale\":7}],5:[function(require,module,exports){\n/*jshint node:true */\n\n'use strict';\n\nvar isUndefined = require('lodash.isundefined');\nvar normaliseFactory = require('normalise');\nvar scaleFactory = require('scale-normalised');\n\nmodule.exports = function factory(Decimal) {\n  var normalise = normaliseFactory(Decimal).normalise;\n  var scale = scaleFactory(Decimal).scale;\n  var api = {};\n\n  api.rescale = function rescale(x, oldScale, newScale) {\n    return scale(normalise(x, oldScale), newScale);\n  };\n\n  return api;\n};\n\n},{\"lodash.isundefined\":2,\"normalise\":3,\"scale-normalised\":4}],6:[function(require,module,exports){\n/* jshint node:true */\n\n'use strict';\n\nvar unitScale = require('unit-scale');\n\nmodule.exports = [unitScale, unitScale];\n\n},{\"unit-scale\":7}],7:[function(require,module,exports){\n/* jshint node:true */\n\n'use strict';\n\nmodule.exports = [0, 1];\n\n},{}],\"linear-converter\":[function(require,module,exports){\n/*jshint node:true */\n\n'use strict';\n\nvar rescaleFactory = require('rescale');\nvar twoOfAKind = require('olsen');\nvar unitPreset = require('unit-preset');\n\n/**\n * Returns the linear converter api based on the given adapter\n *\n * @param {Object} Decimal instance of decimal library\n *\n * @return {Object} Linear converter API\n */\nmodule.exports = function factory(Decimal) {\n  var rescale = rescaleFactory(Decimal);\n  var api = {};\n\n  /**\n   * Linearly converts x as described by a preset\n   *\n   * @param {Number} x The number to be converted\n   * @param {Array} preset The preset that describes the conversion\n   *\n   * @return {Number} The converted x\n   */\n  api.convert = function convert(x, preset) {\n    return rescale.rescale(x, preset[0], preset[1]);\n  };\n\n  /**\n   * Inverts a preset to change the direction of the conversion\n   *\n   * @param {Array} preset The preset to invert\n   *\n   * @return {Array} The inverted preset\n   */\n  api.invertPreset = function invertPreset(preset) {\n    return preset.slice().reverse();\n  };\n\n  /**\n   * Composes two presets to create a single preset\n   *\n   * @param {Array} presetA The first preset to compose\n   * @param {Array} presetB The second preset to compose\n   *\n   * @return {Array} The composed preset\n   */\n  api.composePresets = function composePresets(presetA, presetB) {\n    return [\n      presetA[0].map(function(x) {\n        return rescale.rescale(x, unitPreset[0], unitPreset[1]);\n      }),\n      presetA[1].map(function(x) {\n        return rescale.rescale(x, presetB[0], presetB[1]);\n      })\n    ];\n  };\n\n  /**\n   * Calculates the a coefficient in the f(x) = ax + b function that describes\n   * the given preset.\n   *\n   * @param {Array} preset The preset for which to calculate its a coefficient\n   *\n   * @return {Number} The coefficient a\n   */\n  api.getCoefficientA = function getCoefficientA(preset) {\n    return new Decimal(preset[1][1].toString()).minus(new Decimal(preset[1][0].toString()))\n      .div(new Decimal(preset[0][1].toString()).minus(new Decimal(preset[0][0].toString())));\n  };\n\n  /**\n   * Calculates the b coefficient in the f(x) = ax + b function that describes\n   * the given preset.\n   *\n   * @param {Array} preset The preset for which to calculate its b coefficient\n   *\n   * @return {Number} The coefficient b\n   */\n  api.getCoefficientB = function getCoefficientB(preset) {\n    return rescale.rescale(0, preset[0], preset[1]);\n  };\n\n  var presetEquivalenceRequisites = [\n    api.getCoefficientA,\n    api.getCoefficientB\n  ];\n\n  var wrappedPresetEquivalenceRequisites = [\n    api.getCoefficientA,\n    api.getCoefficientB\n  ].map(wrapPresetEquivalenceRequisite);\n\n  /**\n   * Check equivalence of two presets\n   *\n   * @param {Array} presetA The first preset to check for equivalence\n   * @param {Array} presetB The second preset to check for equivalence\n   *\n   * @return {Boolean} whether the presets are equivalent or not\n   */\n  api.equivalentPresets = function equivalentPresets(presetA, presetB) {\n    return wrappedPresetEquivalenceRequisites.every(twoOfAKind(presetA, presetB));\n  };\n\n  /**\n   * Wraps a preset equivalence requisite to return a stringified version\n   *\n   * @param {Function} presetEquivalenceRequisite [description]\n   *\n   * @return {Function}\n   */\n  function wrapPresetEquivalenceRequisite(presetEquivalenceRequisite) {\n    return function(preset) {\n      return presetEquivalenceRequisite(preset).toString();\n    };\n  }\n\n  return api;\n};\n\n},{\"olsen\":1,\"rescale\":5,\"unit-preset\":6}]},{},[]);\n"],"sourceRoot":"/source/"}